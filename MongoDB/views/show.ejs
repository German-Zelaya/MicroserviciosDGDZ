<%- 
    // Configurar título de la página
    title = 'Detalle - ' + user.nombre
%>

<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow">
            <div class="card-header bg-info text-white d-flex align-items-center">
                <div class="bg-white text-info rounded-circle d-inline-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px; font-size: 1.5rem; font-weight: bold;">
                    <%= user.nombre.charAt(0).toUpperCase() %>
                </div>
                <div>
                    <h4 class="mb-0"><%= user.nombre %></h4>
                    <small class="opacity-75">Detalles del usuario</small>
                </div>
            </div>
            <div class="card-body">
                <div class="row mb-3">
                    <div class="col-sm-4">
                        <strong><i class="bi bi-hash text-muted"></i> ID:</strong>
                    </div>
                    <div class="col-sm-8">
                        <code><%= user._id %></code>
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-sm-4">
                        <strong><i class="bi bi-person text-muted"></i> Nombre:</strong>
                    </div>
                    <div class="col-sm-8">
                        <%= user.nombre %>
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-sm-4">
                        <strong><i class="bi bi-envelope text-muted"></i> Correo:</strong>
                    </div>
                    <div class="col-sm-8">
                        <a href="mailto:<%= user.correo %>"><%= user.correo %></a>
                    </div>
                </div>
                
                <div class="row mb-3">
                    <div class="col-sm-4">
                        <strong><i class="bi bi-shield text-muted"></i> Rol:</strong>
                    </div>
                    <div class="col-sm-8">
                        <span class="badge bg-<%= user.rol === 'admin' ? 'danger' : user.rol === 'moderador' ? 'warning' : 'secondary' %> fs-6">
                            <%= user.rol === 'admin' ? '👑' : user.rol === 'moderador' ? '🛡️' : '👤' %> <%= user.rol %>
                        </span>
                    </div>
                </div>
                
                <% if (user.createdAt) { %>
                <div class="row mb-4">
                    <div class="col-sm-4">
                        <strong><i class="bi bi-calendar text-muted"></i> Creado:</strong>
                    </div>
                    <div class="col-sm-8">
                        <%= user.createdAt.toLocaleDateString('es-ES', { 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        }) %>
                    </div>
                </div>
                <% } %>
                
                <div class="d-grid gap-2">
                    <div class="row">
                        <div class="col-6">
                            <a href="/users/<%= user._id %>/edit" class="btn btn-warning w-100">
                                <i class="bi bi-pencil"></i> Editar
                            </a>
                        </div>
                        <div class="col-6">
                            <form method="POST" action="/users/<%= user._id %>?_method=DELETE" class="d-inline w-100">
                                <button type="submit" class="btn btn-danger w-100" onclick="return confirm('¿Estás seguro de eliminar este usuario?')">
                                    <i class="bi bi-trash"></i> Eliminar
                                </button>
                            </form>
                        </div>
                    </div>
                    <a href="/" class="btn btn-outline-secondary">
                        <i class="bi bi-arrow-left"></i> Volver a la lista
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>